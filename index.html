<script>
    function bypassLink() {
        var link = document.getElementById('linkInput').value;
        var resultDiv = document.getElementById('result');
        
        if (link) {
            resultDiv.innerHTML = '<strong>Processing...</strong>'; // Show a processing message

            // Wait 3-5 seconds before proceeding
            setTimeout(() => {
                fetch(`https://et.goatbypassers.xyz/api/adlinks/bypass?url=${encodeURIComponent(link)}`)
                    .then(response => response.json())
                    .then(data => {
                        if (data.bypassed) {
                            resultDiv.innerHTML = '<span><strong>Result:</strong> ' + data.bypassed + '</span><button class="copy-btn" onclick="copyToClipboard(\'' + data.bypassed + '\')">Copy</button>';
                        } else {
                            resultDiv.innerHTML = '<strong>Error:</strong> Failed to bypass the link.';
                        }
                    })
                    .catch(() => {
                        resultDiv.innerHTML = '<strong>Error:</strong> Unable to connect to the API.';
                    });
            }, Math.random() * 2000 + 3000); // Random delay between 3 to 5 seconds
        } else {
            resultDiv.innerHTML = '<strong>Error:</strong> Please enter a link.';
        }
    }

    function copyToClipboard(text) {
        navigator.clipboard.writeText(text).then(() => {
            alert('Link copied to clipboard!');
        }, () => {
            alert('Failed to copy');
        });
    }
</script>
